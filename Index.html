<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FormÂ 1040 Smart Quote</title>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* extra polish for range sliders */
    input[type=range]::-webkit-slider-thumb {
      @apply bg-blue-600 h-5 w-5 rounded-full shadow-lg cursor-pointer transition;
    }
    input[type=range]::-moz-range-thumb {
      @apply bg-blue-600 h-5 w-5 rounded-full shadow-lg cursor-pointer transition;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-sky-50 via-white to-emerald-50 min-h-screen flex items-center justify-center py-12 px-4">
  <div class="w-full max-w-3xl bg-white/90 backdrop-blur-xl p-10 rounded-3xl shadow-[0_15px_40px_-10px_rgba(0,0,0,0.15)] space-y-10 animate-fade-in">
    <h1 class="text-4xl md:text-5xl font-extrabold text-center text-gray-800 tracking-tight flex items-center justify-center gap-2">
      <span>ðŸ’¼</span>
      <span>Smart Tax Quote Generator</span>
    </h1>

    <!-- INPUT ZONE -->
    <div id="formSection" class="space-y-8">
      <!-- Personal -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">Name</label>
          <input id="name" type="text" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500" placeholder="Your name" />
        </div>
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">Email</label>
          <input id="email" type="email" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500" placeholder="you@example.com" />
        </div>
      </div>

      <!-- Filing Status -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-3">Filing Status</label>
        <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-3">
          <template id="radioTemplate">
            <label class="flex items-center gap-3 px-4 py-2 rounded-xl bg-gray-50 text-gray-800 cursor-pointer hover:bg-blue-50 transition">
              <input type="radio" class="accent-blue-600" />
              <span class="text-sm"></span>
            </label>
          </template>
        </div>
      </div>

      <!-- Home Ownership -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-3">Do you own your home?</label>
        <div class="flex gap-6">
          <label class="flex items-center gap-3 px-4 py-2 rounded-xl bg-gray-50 text-gray-800 cursor-pointer hover:bg-blue-50 transition"><input type="radio" name="home" value="Yes" class="accent-blue-600" />Yes</label>
          <label class="flex items-center gap-3 px-4 py-2 rounded-xl bg-gray-50 text-gray-800 cursor-pointer hover:bg-blue-50 transition"><input type="radio" name="home" value="No" class="accent-blue-600" />No</label>
        </div>
      </div>

      <!-- Sliders -->
      <div class="grid md:grid-cols-2 gap-8">
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">Formsâ€¯Kâ€‘1: <span id="k1Val" class="font-bold text-blue-600">0</span></label>
          <input id="k1Slider" type="range" min="0" max="4" value="0" class="w-full accent-blue-600" />
        </div>
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">States Filingâ€¯In: <span id="stateVal" class="font-bold text-blue-600">0</span></label>
          <input id="stateSlider" type="range" min="0" max="4" value="0" class="w-full accent-blue-600" />
        </div>
      </div>

      <!-- Notify + CTA -->
      <p id="notify" class="text-sm text-red-500 hidden">ðŸš¨ Please complete all fields correctly before calculating.</p>
      <button id="calculateBtn" class="w-full py-4 text-lg font-bold rounded-xl bg-blue-600 hover:bg-blue-700 text-white shadow-md transition">ðŸ’° Show My Estimate</button>
    </div>

    <!-- OUTPUT ZONE -->
    <div id="output" class="hidden text-center space-y-6">
      <p id="quoteText" class="text-3xl font-extrabold text-emerald-600 animate-bounce-slow"></p>
      <ul id="quoteBreakdown" class="text-left mx-auto max-w-md text-sm list-disc list-inside space-y-1"></ul>
      <a id="ctaLink" href="#" target="_blank" class="inline-flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold px-8 py-3 rounded-xl shadow-lg transition">
        âœ… Iâ€™m good with this â€” letâ€™s talk
      </a>
    </div>
  </div>

  <script>
    // ===== Data =====
    const filingStatuses = [
      "Single",
      "Head of Household",
      "Married Filing Jointly",
      "Married Filing Separately",
    ];
    const k1Options = ["0", "1", "2-5", "6-14", "15+"];
    const stateOptions = ["0", "1", "2-5", "6-9", "10+"];

    // ===== Elements =====
    const radioWrapper = document.querySelector("[id='radioTemplate']").parentElement;
    filingStatuses.forEach((text, i) => {
      const t = document.getElementById("radioTemplate").content.cloneNode(true);
      const input = t.querySelector("input");
      const span = t.querySelector("span");
      input.name = "filing";
      input.value = text;
      span.textContent = text;
      radioWrapper.appendChild(t);
    });

    const nameEl = document.getElementById("name");
    const emailEl = document.getElementById("email");
    const homeEls = document.querySelectorAll("input[name='home']");
    const k1Slider = document.getElementById("k1Slider");
    const stateSlider = document.getElementById("stateSlider");
    const k1Val = document.getElementById("k1Val");
    const stateVal = document.getElementById("stateVal");

    k1Slider.oninput = () => (k1Val.textContent = k1Options[k1Slider.value]);
    stateSlider.oninput = () => (stateVal.textContent = stateOptions[stateSlider.value]);

    const notify = document.getElementById("notify");
    const output = document.getElementById("output");
    const formSection = document.getElementById("formSection");
    const quoteText = document.getElementById("quoteText");
    const quoteBreakdown = document.getElementById("quoteBreakdown");
    const ctaLink = document.getElementById("ctaLink");

    // Optional booking link via ?booking=URL
    const bookingURL = new URLSearchParams(window.location.search).get("booking") || "#";
    ctaLink.href = bookingURL;
    ctaLink.addEventListener("click", (e) => {
      if (bookingURL === "#") return; // no link provided
      e.preventDefault();
      window.open(bookingURL, "_blank", "noopener");
    });

    // ===== Pricing Maps =====
    const base = 350;
    const stateFeeMap = { "0": 0, "1": 250, "2-5": 650, "6-9": 1450, "10+": 2050 };
    const k1FeeMap = { "0": 0, "1": 200, "2-5": 600, "6-14": 2000, "15+": 3000 };

    // ===== Calculate =====
    document.getElementById("calculateBtn").addEventListener("click", () => {
      const name = nameEl.value.trim();
      const email = emailEl.value.trim();
      const filing = document.querySelector("input[name='filing']:checked");
      const home = document.querySelector("input[name='home']:checked");

      if (!(name && /\S+@\S+\.\S+/.test(email) && filing && home)) {
        notify.classList.remove("hidden");
        return;
      }
      notify.classList.add("hidden");

      const k1 = k1Options[k1Slider.value];
      const states = stateOptions[stateSlider.value];

      const total = base + stateFeeMap[states] + k1FeeMap[k1] + (home.value === "Yes" ? 150 : 0);

      quoteText.textContent = `ðŸŽ‰ Hey ${name}, your estimated quote is $${total}`;
      quoteBreakdown.innerHTML = `
        <li>Base Price: $${base}</li>
        <li>State Fee: $${stateFeeMap[states]}</li>
        <li>Kâ€‘1 Fee: $${k1FeeMap[k1]}</li>
        <li>Home Ownership Fee: $${home.value === "Yes" ? 150 : 0}</li>
        <li>Email: ${email}</li>
        <li>Filing Status: ${filing.value}</li>
      `;

      formSection.classList.add("hidden");
      output.classList.remove("hidden");
    });
  </script>
</body>

</html>
